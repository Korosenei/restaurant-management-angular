<div class="container">
  <div class="row">
    <!-- Colonne de gauche : Résultats -->
    <div class="col-md-7">
      <h4>Résultats du Scanner</h4>
      <table class="table table-bordered">
        <thead class="table-dark">
          <tr>
            <th>Numéro Transaction</th>
            <th>Numéro Ticket</th>
            <th>Client</th>
            <th>Date Achat</th>
            <th>Statut</th>
          </tr>
        </thead>
        <tbody>
          <!-- Affichage des résultats scannés -->
          <tr *ngIf="scanResult">
            <td>{{ scanResult.transactionNumber }}</td>
            <td>{{ scanResult.ticketNumber }}</td>
            <td>{{ scanResult.client }}</td>
            <td>{{ scanResult.purchaseDate | date: 'short' }}</td>
            <td>{{ scanResult.status }}</td>
          </tr>
          <!-- Message par défaut si aucun résultat -->
          <tr *ngIf="!scanResult">
            <td colspan="5" class="text-center">Aucun résultat pour le moment</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Colonne de droite : Scanner QR -->
    <div class="col-md-5">
      <h4>Scanner QR</h4>
      <!-- Zone pour afficher le QR code scanné -->
      <div class="border rounded bg-light d-flex align-items-center justify-content-center" style="height: 250px;">
        <p *ngIf="!qrCode" class="text-secondary">Scannez un code QR...</p>
        <p *ngIf="qrCode">{{ qrCode }}</p>
      </div>

      <!-- Importation d'image de QR code -->
      <div class="mt-3">
        <label for="qrImage" class="form-label">Importer une image QR</label>
        <input type="file" id="qrImage" class="form-control" (change)="onFileSelected($event)" />
      </div>

      <!-- Boutons d'action -->
      <div class="mt-4 d-flex justify-content-between">
        <button class="btn btn-success" (click)="approve()" [disabled]="!qrCode">Approuver</button>
        <button class="btn btn-danger" (click)="reject()" [disabled]="!qrCode">Rejeter</button>
      </div>
    </div>
  </div>
</div>
