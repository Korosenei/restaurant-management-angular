<div class="container py-4">
  <div class="row">
    <!-- Colonne de gauche : R√©sultats du QR code -->
    <div class="col-md-7 mb-4">
      <h4>R√©sultats du QR Code</h4>

      <table class="table table-bordered">
        <thead class="table-dark">
          <tr>
            <th>Libell√©</th>
            <th>Valeur</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of qrCodeDetails">
            <td>{{ item.label }}</td>
            <td>{{ item.value }}</td>
          </tr>
        </tbody>
      </table>

      <!-- Actions apr√®s scan valide -->
      <div *ngIf="scanState === 'valide'" class="mt-3">
        <button
          (click)="validerConsommation()"
          class="btn btn-success me-2"
          type="button"
        >
          ‚úÖ Valider
        </button>
        <button
          (click)="refuserConsommation()"
          class="btn btn-danger"
          type="button"
        >
          ‚ùå Refuser
        </button>
      </div>
    </div>

    <!-- Colonne de droite : Scanner un QR code -->
    <div class="col-md-5">
      <h4>Scanner un QR Code</h4>

      <!-- √âtat apr√®s scan -->
      <div *ngIf="scanState" class="alert mt-3"
           [ngClass]="{
             'alert-success': scanState === 'valide',
             'alert-danger': scanState === 'corrompu',
             'alert-warning': scanState === 'expir√©'
           }">
        {{ scanMessage }}
      </div>

      <!-- Espace visuel pour l'image -->
      <div
        class="border rounded bg-light d-flex align-items-center justify-content-center mt-3"
        style="height: 200px"
      >
        <p class="text-muted m-0">Scannez un code QR...</p>
      </div>

      <!-- Saisie manuelle -->
      <div class="mt-3">
        <label for="qrCodeInput" class="form-label">Saisie manuelle</label>
        <input
          type="text"
          id="qrCodeInput"
          class="form-control"
          placeholder="Entrer le QR code..."
          [(ngModel)]="qrCodeData"
        />
      </div>

      <!-- Boutons de scan -->
      <div class="mt-4 d-flex justify-content-between">
        <button class="btn btn-warning me-2" (click)="scannerQrCode()">
          üîç Scanner
        </button>
      </div>
    </div>
  </div>
</div>
